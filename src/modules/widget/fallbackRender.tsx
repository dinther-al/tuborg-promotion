import React from "react";
import api, { setNavigationBarColor, setNavigationBarTitle } from 'zmp-sdk';

const Fallback = ({ error, resetErrorBoundary }) => {
  const [timerCount, setTimerCount] = React.useState(10);
  console.log("üöÄ  Fallback  error", error)

  React.useEffect(() => {
    setNavigationBarTitle({
      title: "Th√¥ng b√°o",
    });
    setNavigationBarColor({
      color: "#ffffff",
      statusBarColor: "#ffffff",
      textColor: "black",
    });
  }, []);

  React.useEffect(() => {
    const timer = setTimeout(() => {
      if (error?.errorCode !== 'TOKEN_EXPIRED' && timerCount > 0) {
        setTimerCount(prevCount => prevCount - 1);
      } else if (error) {
        api.closeApp({});
      }
    }, 1000);

    return () => clearTimeout(timer);
  }, [error, timerCount]);

  const closeApp = () => {
    api.closeApp({});
  };

  const handleError = () => {
    switch (error?.errorCode) {
      case "APP_EOL":
        return (
          <div className="flex flex-col items-center">
            <svg
              className="w-[190px]"
              viewBox="0 0 274 274"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle
                cx="80.5"
                cy="128.5"
                r="62.5"
                fill="#989898"
                fillOpacity={0.2}
              />
              <path
                d="M234.192 158.181C239.713 158.181 245.158 156.032 249.244 151.945C257.538 143.651 257.538 130.156 249.244 121.861C245.769 118.386 241.199 116.248 236.363 115.748C236.245 112.788 235.948 109.933 235.465 107.227C233.805 97.9449 230.095 90.3694 224.437 84.7114C217.096 77.3706 206.443 73.2971 193.402 72.7745C192.902 67.9438 190.759 63.3769 187.287 59.9044C178.993 51.6107 165.498 51.6107 157.204 59.9044C151.55 65.5581 149.605 73.8124 151.93 81.2715C151.306 81.5437 150.683 81.8189 150.064 82.1033V46.0768C150.064 44.1018 149.231 42.2035 147.777 40.8674C146.323 39.531 144.359 38.8573 142.393 39.0253L64.4429 45.5963C61.952 45.8065 60 47.9296 60 50.4297V223.57C60 226.07 61.952 228.194 64.4433 228.403H64.4437L142.393 234.975C142.59 234.991 142.788 235 142.984 235C144.749 235 146.469 234.336 147.777 233.133C149.231 231.797 150.065 229.898 150.065 227.923V198.466C156.008 200.342 162.109 201.26 168.167 201.26C175.627 201.26 183.016 199.865 189.951 197.162C194.742 200.452 200.496 202.47 206.713 203.013C207.82 203.11 208.929 203.158 210.037 203.158C212.602 203.158 215.163 202.899 217.686 202.384C230.782 199.707 241.391 190.517 247.559 176.505C250.007 170.945 247.475 164.43 241.914 161.983C236.354 159.538 229.84 162.069 227.393 167.627C223.281 176.968 217.446 179.944 213.275 180.796C218.934 174.37 223.962 166.186 227.873 157.211C229.942 157.856 232.072 158.181 234.192 158.181ZM143.848 227.924C143.848 228.236 143.697 228.441 143.57 228.557C143.444 228.673 143.228 228.807 142.915 228.781L66.2165 222.315V51.6854L142.915 45.2193C143.226 45.1932 143.443 45.3268 143.57 45.4432C143.697 45.56 143.848 45.7644 143.848 46.0764V227.924ZM234.873 134.635C235.06 133.643 235.226 132.656 235.379 131.671C236.359 131.892 237.272 132.376 238.002 133.105C240.096 135.2 240.096 138.608 238.002 140.702C236.698 142.006 234.863 142.512 233.145 142.169C233.818 139.67 234.398 137.153 234.873 134.635ZM234.193 148.493C237.184 148.493 240.155 147.339 242.396 145.098C246.915 140.579 246.915 133.227 242.396 128.709C240.672 126.984 238.472 125.877 236.129 125.481C236.228 124.313 236.302 123.155 236.351 122.008C239.542 122.471 242.538 123.948 244.848 126.257C250.718 132.127 250.718 141.679 244.848 147.55C240.965 151.433 235.351 152.835 230.199 151.413C230.6 150.326 230.984 149.232 231.35 148.132C232.285 148.369 233.239 148.493 234.193 148.493ZM161.599 64.3006C167.469 58.4305 177.021 58.4302 182.891 64.3002C185.2 66.609 186.676 69.6029 187.14 72.7933C185.99 72.8431 184.832 72.9231 183.668 73.0218C183.272 70.6779 182.165 68.4771 180.44 66.7521C175.922 62.2342 168.569 62.2342 164.051 66.7521C161.101 69.7025 160.035 73.9176 161.005 77.7783C159.91 78.1427 158.819 78.5321 157.732 78.9336C156.317 73.7852 157.72 68.1793 161.599 64.3006ZM177.476 73.7634C173.993 74.3039 170.481 75.0508 166.977 75.9909C166.639 74.2775 167.146 72.4484 168.447 71.1484C170.542 69.0532 173.95 69.0532 176.044 71.1484C176.771 71.8749 177.255 72.7864 177.476 73.7634ZM150.065 191.91V175.222L169.852 195.009C163.235 195.217 156.527 194.21 150.065 191.91ZM177.8 194.164L150.065 166.429V142.363L195.358 187.656C189.9 190.859 183.952 193.045 177.8 194.164ZM214.518 186.887C220.126 185.741 227.899 181.904 233.082 170.132C234.148 167.709 236.987 166.607 239.409 167.672C241.832 168.739 242.935 171.578 241.868 174C236.535 186.114 227.505 194.031 216.44 196.293C213.415 196.911 210.324 197.09 207.254 196.82C203.558 196.498 199.986 195.51 196.816 193.971C200.354 192.046 203.722 189.75 206.862 187.095C209.377 187.467 211.993 187.402 214.518 186.887ZM206.161 179.305C204.411 181.055 202.555 182.66 200.621 184.127L150.065 133.572V114.084L152.393 116.411C153 117.018 153.796 117.321 154.591 117.321C155.386 117.321 156.182 117.018 156.789 116.411C158.002 115.197 158.002 113.229 156.789 112.016L150.065 105.292V88.992C162.012 83.0929 175.623 79.46 187.709 78.9868C197.462 78.6048 210.984 80.0507 220.041 89.1077C229.179 98.2458 232.359 114.42 228.764 133.483C225.436 151.134 216.775 168.691 206.161 179.305Z"
                fill="#1F1F1F"
              />
              <path
                d="M132.024 130.291C126.199 130.291 121.461 135.03 121.461 140.854C121.461 146.679 126.199 151.417 132.024 151.417C137.849 151.417 142.587 146.679 142.587 140.854C142.587 135.03 137.849 130.291 132.024 130.291ZM132.024 145.201C129.627 145.201 127.677 143.251 127.677 140.854C127.677 138.458 129.627 136.508 132.024 136.508C134.421 136.508 136.371 138.458 136.371 140.854C136.371 143.251 134.421 145.201 132.024 145.201Z"
                fill="#1F1F1F"
              />
              <path
                d="M158.906 98.7653L157.802 99.8697C156.588 101.084 156.587 103.052 157.801 104.266C158.408 104.873 159.204 105.176 159.999 105.176C160.795 105.176 161.59 104.873 162.197 104.266L163.302 103.162C164.516 101.948 164.516 99.9796 163.302 98.766C162.088 97.5518 160.12 97.5521 158.906 98.7653Z"
                fill="#1F1F1F"
              />
              <path
                d="M191.921 133.039C190.707 131.825 188.739 131.825 187.526 133.039C187.057 133.508 186.433 133.766 185.77 133.766C185.107 133.766 184.484 133.508 184.015 133.039C183.547 132.57 183.288 131.947 183.288 131.284C183.288 130.621 183.546 129.998 184.015 129.529C184.622 128.922 184.925 128.127 184.925 127.331C184.925 126.536 184.622 125.74 184.016 125.133C182.801 123.919 180.834 123.92 179.62 125.133C178.652 126.101 177.077 126.101 176.109 125.133C175.64 124.664 175.382 124.041 175.382 123.378C175.382 122.715 175.64 122.092 176.109 121.623C177.323 120.409 177.323 118.441 176.109 117.227C174.895 116.013 172.927 116.013 171.713 117.227C170.07 118.87 169.165 121.054 169.165 123.378C169.165 125.701 170.07 127.886 171.713 129.529C173.216 131.031 175.135 131.869 177.103 132.04C177.277 134.078 178.155 135.972 179.619 137.435C181.262 139.078 183.446 139.983 185.77 139.983C188.093 139.983 190.277 139.078 191.92 137.435C193.136 136.221 193.136 134.253 191.921 133.039Z"
                fill="#1F1F1F"
              />
              <path
                d="M197.133 152.36C195.919 151.146 193.951 151.146 192.737 152.36C191.523 153.574 191.523 155.542 192.737 156.756L199.475 163.493C200.081 164.1 200.877 164.403 201.672 164.403C202.468 164.403 203.263 164.099 203.87 163.493C205.084 162.279 205.084 160.311 203.87 159.097L197.133 152.36Z"
                fill="#1F1F1F"
              />
              <path
                d="M205.988 145.847L204.883 146.952C203.669 148.166 203.67 150.134 204.884 151.347C205.491 151.954 206.286 152.257 207.081 152.257C207.877 152.257 208.672 151.954 209.28 151.347L210.384 150.242C211.598 149.028 211.598 147.06 210.384 145.847C209.17 144.632 207.202 144.633 205.988 145.847Z"
                fill="#1F1F1F"
              />
            </svg>

            <div className="text-2xl mb-1 font-bold text-center">
              Ch∆∞∆°ng tr√¨nh ƒë√£ k·∫øt th√∫c!
            </div>
          </div>
        );
      case "APP_OUT_OF_WINDOW_TIME":
        return (
          <div className="flex flex-col items-center">
            <svg
              className="w-[190px]"
              viewBox="0 0 274 274"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M246 170.07C245.995 159.999 238.382 151.561 228.366 150.523C218.349 149.485 209.167 156.184 207.098 166.039C202.086 164.638 196.958 163.689 191.776 163.205C191.167 160.174 190.344 157.19 189.312 154.276C195.686 148.518 198.305 139.681 196.098 131.38C193.89 123.08 187.228 116.711 178.836 114.879C170.445 113.048 161.734 116.062 156.27 122.688C151.338 121.006 146.263 119.779 141.108 119.021C136.013 113.61 129.486 109.756 122.287 107.91C121.307 107.662 120.267 107.881 119.47 108.502C118.673 109.123 118.207 110.078 118.207 111.088V112.379C115.013 111.462 111.7 111.027 108.377 111.088C107.078 111.1 105.908 111.877 105.395 113.071C104.881 114.274 105.121 115.667 106.008 116.629C106.661 117.417 107.168 118.314 107.505 119.28C105.952 119.654 104.478 120.099 103.059 120.591C97.5425 114.707 88.9926 112.79 81.492 115.753C73.9913 118.717 69.0612 125.961 69.056 134.025C69.0388 139.834 71.6104 145.349 76.0715 149.069C74.0411 154.828 72.5407 160.761 71.5889 166.793C71.061 171.585 68.7906 176.017 65.2091 179.244C65.1731 179.28 65.1338 179.313 65.101 179.349L64.4456 179.982C60.4677 183.858 55.9491 188.259 55.9491 201.395C56.0137 205.228 56.9861 208.991 58.7867 212.376C52.8848 213.586 48.8585 219.069 49.4706 225.063C50.0827 231.056 55.1344 235.612 61.1591 235.604H104.641C105.512 235.593 106.381 235.515 107.24 235.372C109.835 235.522 112.545 235.604 115.389 235.604C121.779 235.612 128.161 235.174 134.489 234.294C136.128 235.147 137.947 235.596 139.794 235.604H236.081C241.532 235.622 245.969 231.225 246 225.774V215.944C245.988 213.098 244.731 210.401 242.559 208.561C242.267 200.961 240.122 193.547 236.311 186.964C242.302 183.443 245.986 177.019 246 170.07ZM208.897 173.454C215.924 175.732 222.221 179.831 227.149 185.333C227.774 186.037 228.349 186.784 228.872 187.567C232.765 193.035 235.15 199.432 235.786 206.114H229.436C224.278 206.114 215.32 208.529 213.305 224.699C213.134 226.17 213.31 227.66 213.819 229.051H198.199C201.552 225.461 203.412 220.729 203.402 215.816C203.363 202.827 197.376 198.292 191.832 196.873C192.978 193.327 193.565 189.623 193.572 185.896C193.647 180.554 193.403 175.212 192.841 169.899C198.308 170.488 203.693 171.68 208.897 173.454ZM173.912 120.919C180.27 120.905 186.059 124.579 188.755 130.337C191.45 136.095 190.564 142.894 186.481 147.768C181.364 137.801 173 129.877 162.771 125.306C165.793 122.482 169.776 120.914 173.912 120.919ZM75.6095 134.025C75.5961 129.066 78.3903 124.527 82.8239 122.305C87.2574 120.083 92.5666 120.561 96.5315 123.54C88.8016 127.915 82.6194 134.58 78.8371 142.617C76.7526 140.241 75.6052 137.186 75.6095 134.025ZM78.0539 167.894C78.6044 164.633 79.2762 161.265 80.1543 157.916C86.2965 155.805 93.1058 157.529 97.503 162.309C101.9 167.089 103.051 174.018 100.436 179.963C97.8206 185.908 91.9345 189.742 85.4397 189.73C79.8154 189.711 74.5904 186.82 71.5857 182.066C75.1445 178.117 77.4027 173.169 78.0539 167.894ZM61.1591 229.051C58.4 229.042 56.1266 226.883 55.9762 224.128C55.8258 221.373 57.8505 218.979 60.5922 218.67L61.1787 218.595C61.7063 218.529 62.3059 218.428 62.8663 218.352C67.0417 222.993 72.1971 226.648 77.9589 229.051H61.1591ZM62.5025 201.395C62.5025 193.118 64.3506 189.671 66.9458 186.807C73.3139 195.552 84.9309 198.651 94.8085 194.24C104.686 189.829 110.132 179.11 107.871 168.531C105.61 157.952 96.2575 150.397 85.4397 150.409C84.4456 150.416 83.4529 150.486 82.4677 150.619C87.0551 138.521 95.3912 127.891 112.047 125.031C113.779 124.731 114.967 123.117 114.737 121.374C114.595 120.264 114.359 119.168 114.033 118.097C115.861 118.323 117.615 118.956 119.167 119.949C120.103 120.884 121.51 121.165 122.733 120.66C123.957 120.156 124.756 118.965 124.761 117.642V115.591C129.457 117.507 133.65 120.475 137.019 124.267C137.537 124.854 138.249 125.235 139.024 125.342C181.317 131.23 187.019 159.256 187.019 185.896C186.999 189.466 186.333 193.003 185.053 196.336C178.916 196.255 172.913 198.123 167.905 201.67C165.635 203.043 163.056 204.6 159.333 206.458C152.735 209.515 145.671 211.447 138.434 212.172C134.78 212.592 131.534 214.701 129.667 217.87C127.8 221.039 127.528 224.901 128.932 228.3C124.433 228.78 119.913 229.031 115.389 229.051C73.5582 229.051 62.5025 210.96 62.5025 201.395ZM170.635 229.051H139.794C137.042 229.045 134.77 226.896 134.611 224.148C134.452 221.4 136.461 219.003 139.195 218.68C147.188 217.868 154.988 215.719 162.269 212.323C166.224 210.357 169.039 208.643 171.3 207.28C175.837 203.962 181.416 202.385 187.019 202.837C191.223 202.837 196.816 204.184 196.849 215.836C196.854 219.283 195.477 222.588 193.025 225.011C190.438 227.591 186.936 229.043 183.283 229.051H170.635ZM239.446 225.774C239.419 227.607 237.914 229.073 236.081 229.051H223.171C222.177 229.054 221.229 228.631 220.569 227.888C219.984 227.242 219.707 226.374 219.809 225.509C221.424 212.667 227.45 212.667 229.436 212.667H236.081C237.914 212.645 239.419 214.111 239.446 215.944V225.774ZM232.565 181.6C232.408 181.414 232.27 181.237 232.103 181.043C227.005 175.333 220.595 170.947 213.426 168.264C214.28 162.152 219.289 157.468 225.445 157.027C231.6 156.585 237.227 160.506 238.945 166.434C240.662 172.361 238.003 178.683 232.565 181.6Z"
                fill="black"
              />
              <path
                d="M164.082 179.9C164.082 167.232 153.813 156.963 141.145 156.963C128.477 156.963 118.208 167.232 118.208 179.9C118.208 192.568 128.477 202.837 141.145 202.837C153.807 202.822 164.067 192.562 164.082 179.9ZM124.761 179.9C124.761 170.851 132.096 163.516 141.145 163.516C150.193 163.516 157.528 170.851 157.528 179.9C157.528 188.948 150.193 196.283 141.145 196.283C132.101 196.273 124.772 188.944 124.761 179.9Z"
                fill="black"
              />
              <path
                d="M85.4393 179.9H91.9928C93.8025 179.9 95.2696 178.433 95.2696 176.623C95.2696 174.813 93.8025 173.346 91.9928 173.346H85.4393C83.6296 173.346 82.1626 174.813 82.1626 176.623C82.1626 178.433 83.6296 179.9 85.4393 179.9Z"
                fill="black"
              />
              <path
                d="M144.421 179.9C144.421 178.09 142.954 176.623 141.144 176.623H134.591C132.781 176.623 131.314 178.09 131.314 179.9C131.314 181.709 132.781 183.177 134.591 183.177H141.144C142.954 183.177 144.421 181.709 144.421 179.9Z"
                fill="black"
              />
              <path
                d="M110.189 193.351L105.746 195.572L104.14 193.967C102.854 192.725 100.811 192.743 99.5466 194.007C98.2827 195.271 98.2649 197.314 99.5067 198.6L102.783 201.877C103.398 202.491 104.231 202.837 105.1 202.837C105.607 202.841 106.108 202.729 106.565 202.509L113.118 199.233C114.738 198.424 115.395 196.455 114.586 194.835C113.777 193.215 111.809 192.558 110.189 193.367V193.351Z"
                fill="black"
              />
              <path
                d="M135.145 97.9584C136.527 101.898 140.246 104.535 144.421 104.535H177.189C182.618 104.535 187.019 100.134 187.019 94.7046C187.019 89.2755 182.618 84.8743 177.189 84.8743H172.444L183.329 76.1648C186.588 73.5564 187.843 69.175 186.462 65.2366C185.08 61.2982 181.362 58.6616 177.189 58.6604H144.421C138.992 58.6604 134.591 63.0616 134.591 68.4906C134.591 73.9197 138.992 78.3209 144.421 78.3209H149.166L138.281 87.0304C135.021 89.6379 133.764 94.0194 135.145 97.9584ZM142.373 92.1454L160.553 77.6033C161.639 76.7347 162.058 75.275 161.599 73.9622C161.14 72.6494 159.902 71.7695 158.511 71.7674H144.421C142.612 71.7674 141.145 70.3003 141.145 68.4906C141.145 66.681 142.612 65.2139 144.421 65.2139H177.189C178.581 65.2133 179.821 66.0922 180.282 67.4056C180.743 68.7191 180.324 70.1804 179.237 71.0498L161.057 85.5919C159.971 86.4605 159.551 87.9202 160.011 89.233C160.47 90.5458 161.708 91.4257 163.099 91.4278H177.189C178.998 91.4278 180.465 92.8949 180.465 94.7046C180.465 96.5142 178.998 97.9813 177.189 97.9813H144.421C143.029 97.9819 141.789 97.103 141.328 95.7896C140.867 94.4761 141.286 93.0148 142.373 92.1454Z"
                fill="black"
              />
              <path
                d="M236.17 65.2139H231.425L242.31 56.5044C245.569 53.896 246.825 49.5146 245.443 45.5762C244.061 41.6378 240.344 39.0012 236.17 39H203.402C197.973 39 193.572 43.4012 193.572 48.8302C193.572 54.2593 197.973 58.6605 203.402 58.6605H208.147L197.262 67.37C194.004 69.9784 192.748 74.3598 194.129 78.2982C195.511 82.2366 199.229 84.8732 203.402 84.8744H236.17C241.599 84.8744 246 80.4732 246 75.0442C246 69.6151 241.599 65.2139 236.17 65.2139ZM236.17 78.3209H203.402C202.01 78.3215 200.77 77.4426 200.309 76.1292C199.848 74.8157 200.267 73.3544 201.355 72.485L219.534 57.9429C220.62 57.0743 221.04 55.6146 220.58 54.3018C220.121 52.989 218.883 52.1091 217.492 52.107H203.402C201.593 52.107 200.126 50.6399 200.126 48.8302C200.126 47.0206 201.593 45.5535 203.402 45.5535H236.17C237.562 45.5529 238.802 46.4317 239.263 47.7452C239.724 49.0587 239.305 50.52 238.218 51.3894L220.038 65.9315C218.952 66.8001 218.533 68.2598 218.992 69.5726C219.451 70.8854 220.689 71.7653 222.08 71.7674H236.17C237.98 71.7674 239.447 73.2345 239.447 75.0442C239.447 76.8538 237.98 78.3209 236.17 78.3209Z"
                fill="black"
              />
              <circle
                cx="90.6628"
                cy="145.444"
                r="63.6628"
                fill="#989898"
                fillOpacity={0.2}
              />
            </svg>

            <div className="text-2xl font-bold text-center">
              Ch∆∞∆°ng tr√¨nh t·∫°m ƒë√≥ng!
            </div>
          </div>
        );
      case "TOKEN_EXPIRED":
        return (
          <div className="flex flex-col items-center">
            <svg
              className="w-[190px]"
              viewBox="0 0 274 274"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle
                cx="114.187"
                cy="137.821"
                r="83.187"
                fill="#8A8A8A"
                fillOpacity={0.2}
              />
              <path
                d="M165.654 194.994C164.414 194.991 163.191 194.707 162.077 194.164C157.015 191.723 140.143 183.102 135.468 174.669C133.959 172.192 133.018 169.411 132.714 166.526C132.41 163.641 132.751 160.725 133.712 157.988C134.627 155.797 136.027 153.842 137.806 152.27C139.585 150.698 141.698 149.55 143.984 148.912C152.771 146.186 159.027 152.286 163.592 156.738C163.897 157.036 164.199 157.33 164.498 157.619C164.806 157.917 165.218 158.085 165.648 158.087C166.077 158.088 166.49 157.923 166.801 157.627C167.065 157.376 167.331 157.12 167.598 156.863C172.303 152.341 178.753 146.152 187.349 148.922C189.674 149.624 191.805 150.852 193.579 152.511C195.352 154.17 196.72 156.215 197.576 158.488C198.509 161.165 198.831 164.016 198.519 166.834C198.208 169.651 197.27 172.364 195.775 174.772C190.493 183.6 172.738 192.479 169.232 194.172C168.117 194.712 166.893 194.993 165.654 194.994ZM148.278 154.892C147.489 154.896 146.704 155.02 145.952 155.261C144.609 155.607 143.364 156.256 142.311 157.159C141.259 158.061 140.427 159.193 139.88 160.467C139.293 162.289 139.114 164.219 139.356 166.118C139.598 168.017 140.255 169.84 141.281 171.457C144.049 176.459 155.169 183.463 164.96 188.185C165.175 188.29 165.411 188.344 165.651 188.344C165.89 188.344 166.127 188.29 166.342 188.185C175.589 183.725 186.962 176.553 190.079 171.359C191.062 169.809 191.687 168.059 191.908 166.237C192.129 164.415 191.942 162.566 191.358 160.826C190.855 159.49 190.046 158.29 188.996 157.322C187.947 156.354 186.686 155.644 185.313 155.249C180.827 153.805 177.209 156.848 172.206 161.657C171.272 162.554 170.362 163.426 169.473 164.211C168.416 165.14 167.058 165.652 165.651 165.652C164.244 165.652 162.885 165.14 161.829 164.211C160.887 163.38 159.933 162.451 158.956 161.499C154.965 157.604 151.871 154.892 148.278 154.892Z"
                fill="black"
              />
              <path
                d="M198.401 104.278H142.469V79.7184C142.474 76.5823 143.115 73.4798 144.354 70.5988C145.593 67.7177 147.403 65.1181 149.676 62.9572C151.949 60.7963 154.636 59.1191 157.576 58.0271C160.516 56.9352 163.647 56.4513 166.779 56.6046C172.809 57.0006 178.455 59.701 182.547 64.1464C186.64 68.5917 188.866 74.4412 188.763 80.4827C188.763 80.976 188.859 81.4646 189.048 81.9204C189.237 82.3762 189.513 82.7904 189.862 83.1392C190.211 83.488 190.625 83.7646 191.081 83.9531C191.537 84.1417 192.025 84.2385 192.518 84.2381H204.815C206.013 84.2368 207.162 83.7602 208.009 82.9129C208.857 82.0655 209.333 80.9167 209.334 79.7184C209.334 68.1235 204.728 57.0036 196.53 48.8048C188.331 40.606 177.211 36 165.616 36C154.021 36 142.901 40.606 134.703 48.8048C126.504 57.0036 121.898 68.1235 121.898 79.7184V105.64C112.281 108.084 103.752 113.661 97.656 121.49C91.5601 129.319 88.2445 138.954 88.2324 148.877V180.797C88.2491 196.217 94.3819 211 105.285 221.903C116.188 232.806 130.971 238.939 146.391 238.956H184.842C200.261 238.939 215.044 232.806 225.947 221.903C236.85 211 242.983 196.217 243 180.797V148.877C242.987 137.052 238.284 125.716 229.922 117.355C221.561 108.994 210.225 104.291 198.401 104.278ZM128.544 79.7184C128.539 70.0677 132.297 60.7952 139.02 53.8718C145.744 46.9485 154.902 42.9202 164.549 42.6433C174.196 42.3663 183.57 45.8624 190.68 52.3886C197.789 58.9147 202.073 67.9563 202.621 77.5914H195.277C194.701 70.3642 191.534 63.5881 186.359 58.5105C181.184 53.433 174.349 50.3957 167.112 49.958C163.08 49.7634 159.05 50.3885 155.267 51.7956C151.484 53.2027 148.025 55.3625 145.1 58.1444C142.176 60.9263 139.845 64.2725 138.251 67.9807C136.656 71.6888 135.83 75.6819 135.822 79.7184V104.278H128.544V79.7184ZM236.353 180.797C236.336 194.454 230.903 207.546 221.246 217.202C211.59 226.859 198.498 232.291 184.842 232.309H146.391C132.734 232.291 119.642 226.859 109.986 217.202C100.329 207.546 94.8967 194.454 94.8791 180.797V148.877C94.8901 138.815 98.8921 129.168 106.007 122.053C113.122 114.938 122.769 110.935 132.831 110.924H198.401C208.463 110.935 218.11 114.938 225.225 122.053C232.34 129.168 236.342 138.815 236.353 148.877V180.797Z"
                fill="black"
              />
            </svg>

            <div className="text-2xl font-bold text-center text-[#303030]">
              Th√¥ng b√°o!
            </div>
          </div>
        );
      default:
        return (
          <div className="flex flex-col items-center">
            <svg
              className="w-[190px]"
              viewBox="0 0 274 274"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M186.68 75.3209C180.402 75.3209 175.293 70.2123 175.293 63.9342C175.293 57.6561 180.402 52.5475 186.68 52.5475C192.958 52.5475 198.067 57.6561 198.067 63.9342C198.067 70.2123 192.958 75.3209 186.68 75.3209ZM186.68 59.0542C183.989 59.0542 181.8 61.2429 181.8 63.9342C181.8 66.6255 183.989 68.8142 186.68 68.8142C189.371 68.8142 191.56 66.6255 191.56 63.9342C191.56 61.2429 189.371 59.0542 186.68 59.0542Z"
                fill="black"
              />
              <path
                d="M75.2859 198.679C77.207 198.679 78.7637 200.237 78.7637 202.158C78.7637 204.079 77.2061 205.636 75.2859 205.636C73.3656 205.636 71.8081 204.078 71.8081 202.158C71.8081 200.237 73.3648 198.679 75.2859 198.679Z"
                fill="black"
              />
              <path
                d="M78.539 46.2222C76.6179 46.2222 75.0612 44.6647 75.0612 42.7444C75.0612 40.8242 76.6188 39.2658 78.539 39.2658C80.4593 39.2658 82.0168 40.8233 82.0168 42.7444C82.0168 44.6655 80.4601 46.2222 78.539 46.2222Z"
                fill="black"
              />
              <path
                d="M199.55 202.058C200.821 200.787 202.88 200.787 204.15 202.058L207.827 205.734L211.503 202.058C212.773 200.787 214.833 200.787 216.103 202.058C217.374 203.328 217.374 205.388 216.103 206.658L212.427 210.334L216.103 214.01C217.374 215.281 217.374 217.34 216.103 218.611C215.468 219.246 214.635 219.564 213.803 219.564C212.971 219.564 212.138 219.246 211.503 218.611L207.827 214.934L204.15 218.611C203.515 219.246 202.682 219.564 201.85 219.564C201.018 219.564 200.185 219.246 199.55 218.611C198.28 217.34 198.28 215.281 199.55 214.01L203.226 210.334L199.55 206.658C198.28 205.388 198.28 203.328 199.55 202.058Z"
                fill="black"
              />
              <path
                d="M58.1732 65.5609C56.3749 65.5609 54.9198 64.1042 54.9198 62.3075V55.8009C54.9198 54.0042 56.3749 52.5475 58.1732 52.5475C59.9715 52.5475 61.4265 54.0042 61.4265 55.8009V62.3075C61.4265 64.1042 59.9715 65.5609 58.1732 65.5609Z"
                fill="black"
              />
              <path
                d="M58.1732 72.0675C59.9715 72.0675 61.4265 73.5242 61.4265 75.3209V81.8275C61.4265 83.6242 59.9715 85.0809 58.1732 85.0809C56.3749 85.0809 54.9198 83.6242 54.9198 81.8275V75.3209C54.9198 73.5242 56.3749 72.0675 58.1732 72.0675Z"
                fill="black"
              />
              <path
                d="M71.1866 72.0675H64.6799C62.8817 72.0675 61.4266 70.6109 61.4266 68.8142C61.4266 67.0176 62.8817 65.5609 64.6799 65.5609H71.1866C72.9849 65.5609 74.4399 67.0176 74.4399 68.8142C74.4399 70.6109 72.9849 72.0675 71.1866 72.0675Z"
                fill="black"
              />
              <path
                d="M45.1599 65.5609H51.6666C53.4649 65.5609 54.9199 67.0176 54.9199 68.8142C54.9199 70.6109 53.4649 72.0675 51.6666 72.0675H45.1599C43.3616 72.0675 41.9066 70.6109 41.9066 68.8142C41.9066 67.0176 43.3616 65.5609 45.1599 65.5609Z"
                fill="black"
              />
              <path
                d="M50.815 144.954C52.0415 144.531 53.3917 144.88 54.2684 145.831C57.3404 149.181 61.1883 151.773 65.4298 153.394C63.8511 147.506 63.0533 141.512 63.0533 135.508C63.0533 101.738 87.1092 73.4835 118.985 66.9744L108.193 58.3409C106.792 57.2193 106.563 55.1722 107.685 53.7692C108.81 52.3662 110.853 52.1344 112.26 53.2608L127.955 65.8163C128.549 65.774 129.149 65.7536 129.747 65.7252V55.8009C129.747 54.0042 131.202 52.5475 133 52.5475C134.798 52.5475 136.253 54.0042 136.253 55.8009V65.726C136.534 65.739 136.814 65.752 137.093 65.7683L142.928 48.2645C143.497 46.5614 145.32 45.6383 147.043 46.2076C148.746 46.7761 149.668 48.6191 149.098 50.3239L143.716 66.4702C166.555 70.0057 185.736 84.5831 195.653 104.602H220.84C222.638 104.602 224.093 106.058 224.093 107.855V111.108C224.093 118.115 219.614 124.048 213.389 126.332C215.969 129.211 217.587 132.972 217.587 137.134C217.587 138.931 216.132 140.388 214.333 140.388H202.699C200.251 175.599 171.679 203.648 136.253 205.289V215.214H149.267C151.065 215.214 152.52 216.671 152.52 218.468C152.52 220.264 151.065 221.721 149.267 221.721H138.264L142.417 230.026C143.22 231.634 142.57 233.587 140.962 234.391C140.495 234.624 139.999 234.734 139.51 234.734C138.315 234.734 137.168 234.076 136.596 232.936L130.09 219.923C129.865 219.471 129.747 218.973 129.747 218.468V205.301C113.038 204.533 97.3239 197.959 85.0832 186.425C69.6746 186.861 55.4884 177.02 50.4336 162.279C48.8289 157.593 48.2221 152.71 48.6255 147.766C48.7345 146.476 49.5918 145.373 50.815 144.954ZM217.587 111.108H198.468C199.651 114.268 200.66 117.511 201.378 120.868H207.827C213.208 120.868 217.587 116.489 217.587 111.108ZM202.446 127.464C202.69 129.574 202.814 131.717 202.864 133.88H210.524C209.301 130.436 206.19 127.899 202.446 127.464ZM56.5913 160.171C60.8548 172.603 73.0548 180.684 86.1283 179.869C87.0466 179.804 87.9518 180.146 88.6131 180.794C100.556 192.5 116.317 198.948 133 198.948C167.98 198.948 196.44 170.489 196.44 135.508C196.44 100.526 167.98 72.0675 133 72.0675C98.0201 72.0675 69.5599 100.526 69.5599 135.508C69.5599 142.745 70.8434 149.974 73.3753 156.997C73.4021 157.073 73.4037 157.151 73.4257 157.228C74.4318 159.98 75.5883 162.691 76.9653 165.278C77.8104 166.863 77.2069 168.833 75.6217 169.678C75.1353 169.937 74.6115 170.06 74.0967 170.06C72.9336 170.06 71.8063 169.433 71.2216 168.334C69.9397 165.925 68.8499 163.412 67.8568 160.866C63.3892 159.83 59.1354 157.992 55.39 155.391C55.6535 157.006 56.0545 158.601 56.5913 160.171Z"
                fill="black"
              />
              <path
                d="M116.733 140.388C118.532 140.388 119.987 141.844 119.987 143.641V153.401C119.987 160.576 125.823 166.414 133 166.414C140.177 166.414 146.013 160.576 146.013 153.401V143.641C146.013 141.844 147.468 140.388 149.267 140.388C151.065 140.388 152.52 141.844 152.52 143.641V153.401C152.52 164.165 143.764 172.921 133 172.921C122.236 172.921 113.48 164.165 113.48 153.401V143.641C113.48 141.844 114.935 140.388 116.733 140.388Z"
                fill="black"
              />
              <path
                d="M168.787 117.614C165.193 117.614 162.28 114.701 162.28 111.108C162.28 107.514 165.193 104.601 168.787 104.601C172.38 104.601 175.293 107.514 175.293 111.108C175.293 114.701 172.38 117.614 168.787 117.614Z"
                fill="black"
              />
              <circle
                cx="201.5"
                cy="96.5"
                r="62.5"
                fill="#989898"
                fillOpacity={0.2}
              />
            </svg>

            <div className="text-2xl font-bold text-center">
              Ki·ªÉm tra l·∫°i Link!
            </div>
          </div>
        );
    }
  };

  return (
    <div className="bg-white h-[100vh]">
      <div className="bg-white w-full h-4/6 flex flex-col px-10 items-center justify-center">
        {handleError()}
        <div className="mt-4 text-center text-[#7B7B7B]">
          {error?.message || "Li√™n k·∫øt kh√¥ng kh·∫£ d·ª•ng"}
        </div>
        <div className="flex justify-center mt-4">
          <button onClick={closeApp} className="h-[2rem] rounded-full px-5 bg-black border border-white text-white">
            ƒê√≥ng ·ª©ng d·ª•ng
          </button>
        </div>
        {error?.errorCode !== 'TOKEN_EXPIRED' && (
          <div className="mt-4 text-[#7B7B7B]">
            ho·∫∑c ·ª©ng d·ª•ng s·∫Ω t·ª± ƒë√≥ng sau {timerCount} gi√¢y
          </div>
        )}
      </div>
    </div>
  );
};

export default Fallback;
